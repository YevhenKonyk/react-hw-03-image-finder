{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/PixabayAPI.js","components/App/App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","value","onSearch","onChange","className","styles","searchbar","searchForm","onSubmit","type","button","label","input","autoComplete","autoFocus","placeholder","name","Modal","backdropRef","createRef","state","handleKeyPress","e","code","props","onClose","handleBackdropClick","current","target","window","addEventListener","this","removeEventListener","children","overlay","onClick","role","tabIndex","ref","modal","Component","ImageGalleryItem","showModal","openModal","setState","closeModal","item","id","previewURL","fullViewURL","tags","key","src","alt","image","ImageGallery","items","main","imageGallery","map","Button","defaultProps","BASE_URL","fetchImages","query","page","axios","get","mapper","images","webformatURL","largeImageURL","App","isLoading","error","handleInputChange","handleSearch","preventDefault","prevState","handleLoadMoreClick","PixabayAPI","then","data","hits","catch","finally","prevProps","message","length","color","height","width","timeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d0a21c23.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3oG6-\",\"image\":\"ImageGalleryItem_image__wICTn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2V3xa\",\"modal\":\"Modal_modal__1QigD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3RhPp\",\"Button\":\"Button_Button__2wMpF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2rrri\",\"searchForm\":\"Searchbar_searchForm__326bC\",\"button\":\"Searchbar_button__1x3rW\",\"label\":\"Searchbar_label__26GJ1\",\"input\":\"Searchbar_input__158c1\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nconst Searchbar = ({ value, onSearch, onChange }) => (\n  <header className={styles.searchbar}>\n    <form className={styles.searchForm} onSubmit={onSearch}>\n      <button type=\"submit\" className={styles.button}>\n        <span className={styles.label}>Search</span>\n      </button>\n\n      <input\n        className={styles.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        // eslint-disable-next-line jsx-a11y/no-autofocus\n        autoFocus\n        placeholder=\"Search images and photos\"\n        name=\"query\"\n        value={value}\n        onChange={onChange}\n      />\n    </form>\n  </header>\n);\n\nSearchbar.propTypes = {\n  value: PropTypes.string.isRequired,\n  onSearch: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/static-property-placement */\nimport React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.element.isRequired,\n  };\n\n  backdropRef = createRef();\n\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keyup', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keyup', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <div\n        className={styles.overlay}\n        onClick={this.handleBackdropClick}\n        role=\"button\"\n        tabIndex=\"0\"\n        ref={this.backdropRef}\n      >\n        <div className={styles.modal}>{children}</div>\n      </div>\n    );\n  }\n}\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\nimport Modal from '../Modal/Modal';\n\nexport default class ImageGalleryItem extends Component {\n  // eslint-disable-next-line react/static-property-placement\n  propTypes = {\n    item: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      previewURL: PropTypes.string.isRequired,\n      fullViewURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    showModal: false,\n  };\n\n  openModal = () => {\n    this.setState({\n      showModal: true,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      showModal: false,\n    });\n  };\n\n  render() {\n    const { item } = this.props;\n    const { id, previewURL, fullViewURL, tags } = item;\n    const { showModal } = this.state;\n\n    return (\n      <>\n        <li key={id} className={styles.item}>\n          <img\n            src={previewURL}\n            alt={tags}\n            className={styles.image}\n            onClick={this.openModal}\n          />\n\n          {showModal && (\n            <Modal onClose={this.closeModal}>\n              <img src={fullViewURL} alt={tags} />\n            </Modal>\n          )}\n        </li>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ items }) => (\n  <main className={styles.main}>\n    <ul className={styles.imageGallery}>\n      {items.map(item => (\n        // <li key={item.id} className={styles.item}>\n        //   <img src={item.previewURL} alt={item.tags} className={styles.image} />\n        // </li>\n        <ImageGalleryItem key={item.id} item={item} />\n      ))}\n    </ul>\n  </main>\n);\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.number.isRequired }))\n    .isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ type, label, onClick }) => (\n  // eslint-disable-next-line react/button-has-type\n  <button type={type} onClick={onClick} className={styles.button}>\n    {label}\n  </button>\n);\n\nButton.defaultProps = {\n  type: 'button',\n  label: 'button',\n};\n\nButton.propTypes = {\n  type: PropTypes.string,\n  label: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from 'axios';\n\nconst APIkey = '14348648-b031b318d2a0c2c3bc8ffa9be';\n\nconst BASE_URL = `https://pixabay.com/api/?key=${APIkey}&image_type=photo&orientation=horizontal&per_page=4`;\n\n// eslint-disable-next-line import/prefer-default-export\nexport const fetchImages = (query, page) => {\n  return axios.get(`${BASE_URL}&q=${query}&page=${page}`);\n};\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport '../../base.css';\n\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\n\nimport * as PixabayAPI from '../../services/PixabayAPI';\n\nconst mapper = images => {\n  return images.map(\n    ({\n      id,\n      webformatURL: previewURL,\n      largeImageURL: fullViewURL,\n      ...props\n    }) => ({\n      id,\n      previewURL,\n      fullViewURL,\n      ...props,\n    }),\n  );\n};\n\nexport default class App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    images: [],\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-next-line react/destructuring-assignment\n    if (prevState.query !== this.state.query) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        page: 1,\n        images: [],\n      });\n    }\n  }\n\n  handleInputChange = e => {\n    const { name, value } = e.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSearch = e => {\n    e.preventDefault();\n\n    this.fetchImages();\n\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleLoadMoreClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n\n    this.fetchImages();\n  };\n\n  fetchImages = () => {\n    this.setState({ isLoading: true });\n\n    const { query, page } = this.state;\n\n    PixabayAPI.fetchImages(query, page)\n      .then(({ data }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...mapper(data.hits)],\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { query, images, isLoading, error } = this.state;\n\n    return (\n      <>\n        <Searchbar\n          value={query}\n          onChange={this.handleInputChange}\n          onSearch={this.handleSearch}\n        />\n\n        {error && <p>{error.message}</p>}\n\n        {images.length > 0 && (\n          <>\n            <ImageGallery items={images} />\n            <Button label=\"Load more...\" onClick={this.handleLoadMoreClick} />\n          </>\n        )}\n\n        {isLoading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#000\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"ImageGallery_main__26viH\",\"imageGallery\":\"ImageGallery_imageGallery__6jdlP\"};"],"sourceRoot":""}