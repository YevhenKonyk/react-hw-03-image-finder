(this["webpackJsonpreact-hw-03-image-finder"]=this["webpackJsonpreact-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={item:"ImageGalleryItem_item__3oG6-",image:"ImageGalleryItem_image__wICTn"}},11:function(e,a,t){e.exports={overlay:"Modal_overlay__2V3xa",modal:"Modal_modal__1QigD"}},25:function(e,a,t){e.exports={button:"Button_button__3RhPp",Button:"Button_Button__2wMpF"}},28:function(e,a,t){e.exports=t(73)},55:function(e,a,t){},7:function(e,a,t){e.exports={searchbar:"Searchbar_searchbar__2rrri",searchForm:"Searchbar_searchForm__326bC",button:"Searchbar_button__1x3rW",label:"Searchbar_label__26GJ1",input:"Searchbar_input__158c1"}},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),c=t.n(o),l=t(12),i=t(8),s=t(3),u=t(4),m=t(6),h=t(5),p=t(23),d=t(27),f=t(24),g=t.n(f),b=(t(54),t(55),t(7)),y=t.n(b),v=function(e){var a=e.value,t=e.onSearch,n=e.onChange;return r.a.createElement("header",{className:y.a.searchbar},r.a.createElement("form",{className:y.a.searchForm,onSubmit:t},r.a.createElement("button",{type:"submit",className:y.a.button},r.a.createElement("span",{className:y.a.label},"Search")),r.a.createElement("input",{className:y.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"query",value:a,onChange:n})))},_=t(9),E=t.n(_),k=t(10),w=t.n(k),C=t(11),S=t.n(C),j=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=a.call.apply(a,[this].concat(o))).backdropRef=Object(n.createRef)(),e.state={},e.handleKeyPress=function(a){"Escape"===a.code&&e.props.onClose()},e.handleBackdropClick=function(a){var t=e.backdropRef.current;t&&a.target!==t||e.props.onClose()},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:S.a.overlay,onClick:this.handleBackdropClick,role:"button",tabIndex:"0",ref:this.backdropRef},r.a.createElement("div",{className:S.a.modal},e))}}]),t}(n.Component),O=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={showModal:!1},e.openModal=function(){e.setState({showModal:!0})},e.closeModal=function(){e.setState({showModal:!1})},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this.props.item,a=e.id,t=e.previewURL,n=e.fullViewURL,o=e.tags,c=this.state.showModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{key:a,className:w.a.item},r.a.createElement("img",{src:t,alt:o,className:w.a.image,onClick:this.openModal}),c&&r.a.createElement(j,{onClose:this.closeModal},r.a.createElement("img",{src:n,alt:o}))))}}]),t}(n.Component),L=function(e){var a=e.items;return r.a.createElement("main",{className:E.a.main},r.a.createElement("ul",{className:E.a.imageGallery},a.map((function(e){return r.a.createElement(O,{key:e.id,item:e})}))))},I=t(25),M=t.n(I),R=function(e){var a=e.type,t=e.label,n=e.onClick;return r.a.createElement("button",{type:a,onClick:n,className:M.a.button},t)};R.defaultProps={type:"button",label:"button"};var N=R,x=t(26),U=t.n(x),G="https://pixabay.com/api/?key=".concat("14348648-b031b318d2a0c2c3bc8ffa9be","&image_type=photo&orientation=horizontal&per_page=4"),F=function(e,a){return U.a.get("".concat(G,"&q=").concat(e,"&page=").concat(a))},q=function(e){return e.map((function(e){var a=e.id,t=e.webformatURL,n=e.largeImageURL,r=Object(d.a)(e,["id","webformatURL","largeImageURL"]);return Object(p.a)({id:a,previewURL:t,fullViewURL:n},r)}))},B=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={query:"",page:1,images:[],isLoading:!1,error:null},e.handleInputChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState(Object(i.a)({},n,r))},e.handleSearch=function(a){a.preventDefault(),e.fetchImages(),e.setState((function(e){return{page:e.page+1}}))},e.handleLoadMoreClick=function(){e.setState((function(e){return{page:e.page+1}})),e.fetchImages()},e.fetchImages=function(){e.setState({isLoading:!0});var a=e.state,t=a.query,n=a.page;F(t,n).then((function(a){var t=a.data;e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(q(t.hits)))}}))})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,a){a.query!==this.state.query&&this.setState({page:1,images:[]})}},{key:"render",value:function(){var e=this.state,a=e.query,t=e.images,n=e.isLoading,o=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{value:a,onChange:this.handleInputChange,onSearch:this.handleSearch}),o&&r.a.createElement("p",null,o.message),t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{items:t}),r.a.createElement(N,{label:"Load more...",onClick:this.handleLoadMoreClick})),n&&r.a.createElement(g.a,{type:"ThreeDots",color:"#000",height:80,width:80,timeout:3e3}))}}]),t}(n.Component);c.a.render(r.a.createElement(B,null),document.getElementById("root"))},9:function(e,a,t){e.exports={main:"ImageGallery_main__26viH",imageGallery:"ImageGallery_imageGallery__6jdlP"}}},[[28,1,2]]]);
//# sourceMappingURL=main.d0a21c23.chunk.js.map